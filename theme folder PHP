<?php
/*
Template Name: Blog Post Generator
*/
?>

<?php get_header(); ?>
<div class="container">
    <h1>Write a few sentences of your blog post</h1>
    <p>We will then generate your completed 500 word blog post</p>
    <textarea id="input-text" placeholder="Type here" rows="5"></textarea>
    <button id="generate-text-btn">Generate blog post</button>
    <h2>Your Generated Blog Post</h2>
    <p>Copy and paste onto your website to improve its SEO!</p>
    <textarea id="generated-text" placeholder="Generated blog post text" rows="10"></textarea>
</div>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
    jQuery(document).ready(function($) {
        $('#generate-text-btn').on('click', function() {
            var inputText = $('#input-text').val();
            $.post({
                url: '<?php echo admin_url('admin-ajax.php'); ?>',
                data: {
                    action: 'generate_blog_post',
                    text: inputText
                },
                success: function(response) {
                    if (response.success) {
                        $('#generated-text').val(response.data);
                    } else {
                        $('#generated-text').val('Error generating text: ' + response.data);
                    }
                }
            });
        });
    });
</script>
<?php get_footer(); ?>
